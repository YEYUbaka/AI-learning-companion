# 智学伴综合性教育提示词设计指南

## 概述

本文档说明智学伴平台中覆盖大中小学全科目全学龄的综合性提示词设计，基于[AI大模型提示工程最佳实践](https://blog.csdn.net/m0_57081622/article/details/142406454)设计。

## 设计原则

### 1. 清晰具体的指令
- 使用明确的语言描述任务和要求
- 避免模糊和歧义
- 提供具体的输出格式要求

### 2. 结构化输出
- 所有输出要求使用JSON格式
- 提供详细的JSON Schema示例
- 确保输出可被程序解析和处理

### 3. 使用分隔符
- 使用清晰的分隔符区分不同部分
- 使用Markdown格式增强可读性
- 使用代码块包裹示例

### 4. 给予模型充足的思考时间
- 提供详细的上下文信息
- 明确任务步骤和要求
- 允许模型进行深度思考

## 提示词文件说明

### 1. `prompts.json` - 主系统提示词
**文件名**: `backend/seed_data/prompts.json`

**内容**: 覆盖大中小学全科目全学龄的综合性教育系统提示词

**特点**:
- 定义了AI助手的身份定位和核心能力
- 详细说明了各学段（小学、初中、高中、大学）的特征和教学策略
- 覆盖所有主要科目（语文、数学、英语、物理、化学、生物、历史、地理、政治、信息技术）
- 提供了学段适配、科目专业化、个性化教学三大核心原则
- 包含回答规范和禁止行为

**使用场景**: 
- AI对话主系统提示词
- 所有学习相关对话的基础提示词

### 2. `structured_prompts.json` - 结构化功能提示词
**文件名**: `backend/seed_data/structured_prompts.json`

**内容**: 针对特定功能的结构化提示词集合

**包含的提示词**:

#### a. `knowledge_map_generator_prompt` - 知识图谱生成
- **用途**: 生成学习知识图谱
- **特点**: 
  - 支持学段适配（节点数量、知识深度、描述长度）
  - 支持科目专业化（理科、文科、语言类、技术类）
  - 输出结构化JSON格式
- **使用场景**: 知识图谱生成功能

#### b. `study_plan_generator_prompt` - 学习计划生成
- **用途**: 生成个性化学习计划
- **特点**:
  - 根据学段调整学习时长和任务数量
  - 根据科目调整学习方式
  - 输出结构化JSON格式
- **使用场景**: 学习计划生成功能

#### c. `quiz_generator_prompt` - 测验题目生成
- **用途**: 生成测验题目
- **特点**:
  - 根据学段调整题目难度和类型
  - 根据科目调整题型
  - 输出结构化JSON格式
- **使用场景**: AI测评功能

#### d. `answer_evaluation_prompt` - 答案批改和讲解
- **用途**: 批改答案并提供讲解
- **特点**:
  - 根据学段调整讲解方式
  - 根据科目调整讲解重点
  - 输出结构化JSON格式
- **使用场景**: 答案批改功能

### 3. `comprehensive_education_prompt.json` - 完整版教育提示词
**文件名**: `backend/seed_data/comprehensive_education_prompt.json`

**内容**: 更详细、更完整的教育系统提示词（备用版本）

**特点**: 包含更详细的学段特征指南和科目教学指南

## 学段覆盖

### 小学阶段（6-12岁）
- **认知特点**: 具体形象思维为主，注意力集中时间短
- **教学策略**: 生动有趣、多用比喻、鼓励为主、内容简短
- **语言风格**: 亲切、鼓励、简单明了

### 初中阶段（12-15岁）
- **认知特点**: 抽象思维开始发展，逻辑推理能力增强
- **教学策略**: 引入抽象概念、构建知识体系、培养学习方法
- **语言风格**: 专业但易懂，逻辑清晰

### 高中阶段（15-18岁）
- **认知特点**: 抽象思维成熟，批判性思维发展
- **教学策略**: 深入理论探讨、培养高阶思维、注重知识迁移
- **语言风格**: 专业准确，逻辑严密

### 大学阶段（18岁以上）
- **认知特点**: 抽象思维成熟，具备独立学习和研究能力
- **教学策略**: 深入专业领域、培养批判性思维、注重学术规范
- **语言风格**: 专业严谨，学术规范

## 科目覆盖

### 主要科目
1. **语文** - 阅读理解、写作表达、文学素养
2. **数学** - 逻辑推理、抽象思维、问题解决
3. **英语** - 听说读写、语言运用、跨文化理解
4. **物理** - 科学思维、实验探究、物理建模
5. **化学** - 实验操作、化学思维、物质变化理解
6. **生物** - 生命观念、科学探究、社会责任
7. **历史** - 历史思维、史料分析、时空观念
8. **地理** - 区域认知、综合思维、人地协调观
9. **政治/思想品德** - 政治认同、法治意识、公共参与
10. **信息技术/计算机科学** - 计算思维、编程能力、信息素养

### 科目分类
- **理科**: 数学、物理、化学、生物
- **文科**: 语文、历史、地理、政治
- **语言类**: 英语
- **技术类**: 信息技术、计算机科学

## 使用示例

### 示例1: 使用主系统提示词

```python
from services.prompt_service import PromptService

# 获取主系统提示词
system_prompt = PromptService.get_active_prompt(db, "chat_system_prompt")

# 在AI对话中使用
messages = [
    {"role": "system", "content": system_prompt},
    {"role": "user", "content": "我是小学三年级学生，想学习乘法"}
]
```

### 示例2: 使用知识图谱生成提示词

```python
# 获取知识图谱生成提示词
prompt_template = PromptService.get_active_prompt(db, "knowledge_map_generator_prompt")

# 填充变量
prompt = prompt_template.format(
    content="小学数学乘法相关内容",
    grade_level="小学",
    subject="数学"
)

# 调用AI生成知识图谱
response = ai_service.call_model(provider, messages=[{"role": "user", "content": prompt}])
```

### 示例3: 使用学习计划生成提示词

```python
# 获取学习计划生成提示词
prompt_template = PromptService.get_active_prompt(db, "study_plan_generator_prompt")

# 填充变量
prompt = prompt_template.format(
    goals="掌握Python基础语法",
    grade_level="高中",
    subject="信息技术",
    file_text="Python基础教程内容..."
)

# 调用AI生成学习计划
response = ai_service.call_model(provider, messages=[{"role": "user", "content": prompt}])
```

## 最佳实践

### 1. 提示词设计
- ✅ 使用清晰具体的指令
- ✅ 提供结构化输出格式
- ✅ 使用分隔符区分不同部分
- ✅ 给予模型充足的上下文信息
- ❌ 避免模糊和歧义
- ❌ 避免过于复杂的嵌套结构

### 2. 学段适配
- ✅ 根据学段调整语言复杂度
- ✅ 根据学段调整知识深度
- ✅ 根据学段选择合适示例
- ❌ 不要用大学水平的语言教小学生
- ❌ 不要用小学水平的语言教大学生

### 3. 科目专业化
- ✅ 体现学科专业特点
- ✅ 使用学科标准术语
- ✅ 提供学科标准解题思路
- ❌ 不要混淆不同学科的方法

### 4. 个性化教学
- ✅ 诊断学习水平
- ✅ 因材施教
- ✅ 循序渐进
- ✅ 及时反馈
- ❌ 不要一刀切
- ❌ 不要忽视学生差异

## 维护和更新

### 更新提示词
1. 通过管理后台的Prompt管理功能更新
2. 或直接修改JSON文件后重新导入
3. 更新后清除缓存确保生效

### 版本管理
- 每次更新会创建新版本
- 可以回滚到历史版本
- 支持A/B测试不同版本

## 参考资源

- [AI大模型提示工程最佳实践](https://blog.csdn.net/m0_57081622/article/details/142406454)
- 项目规范文档: `.cursor/rules/zhixueban-v3.mdc`
- Prompt模型: `backend/models/prompt.py`
- Prompt服务: `backend/services/prompt_service.py`

## 总结

这些提示词设计遵循了AI大模型提示工程的最佳实践，通过：
1. **清晰具体的指令** - 明确任务和要求
2. **结构化输出** - 确保输出可解析和处理
3. **使用分隔符** - 增强可读性和结构清晰度
4. **给予思考时间** - 提供充足的上下文信息

实现了覆盖大中小学全科目全学龄的综合性教育支持，能够为不同学段、不同科目的学习者提供个性化、专业化、适龄化的学习指导。

