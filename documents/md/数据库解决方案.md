# ✅ 数据库解决方案

## 🎯 已切换到 SQLite（推荐）

我已经将数据库配置改为 **SQLite**，这样：
- ✅ 无需安装 SQL Server
- ✅ 无需配置 ODBC 驱动
- ✅ 无需复杂的连接字符串
- ✅ **Python 内置支持，直接可用**

## 📝 已完成的修改

### 1. 更新了 `backend/database.py`

改为使用 SQLite：
```python
SQLALCHEMY_DATABASE_URL = "sqlite:///./zhixueban.db"
```

### 2. 保留 SQL Server 配置（备用）

如果需要切回 SQL Server，取消注释即可。

## 🚀 现在重启后端

### 在运行后端的终端

1. **停止当前服务**（按 `Ctrl+C`）

2. **重新启动**
```powershell
cd "F:\Cursor projects\Web\backend"
.\启动.bat
```

3. **查看日志**

应该看到：
```
✅ 数据库表创建成功
```

而不是：
```
⚠️ 数据库表创建失败
```

## 📊 测试注册功能

重启后端后：

1. 访问前端：http://localhost:5173/register
2. 填写信息：
   - 邮箱：test@example.com
   - 姓名：测试用户
   - 密码：123456
3. 点击"注册"
4. 应该看到"注册成功"！

## 📁 数据库文件

SQLite 数据库文件将创建在：
```
backend/zhixueban.db
```

这是一个文件数据库，无需额外配置。

## ⚙️ 如需切换回 SQL Server

当你解决 SQL Server 连接问题后：

1. 启动 SQL Server 服务
2. 创建数据库 `ZhixueBan`
3. 修改 `backend/database.py`，注释掉 SQLite 行，取消注释 SQL Server 配置
4. 重启后端

---

**现在重启后端即可！一切都会正常工作！** 🎉

