# 🔄 模型切换功能说明

## ✅ 已实现功能

### 前端UI切换（推荐方式）✨

现在你可以在AI问答页面直接切换模型了！

#### 位置
在AI问答页面（`/ai`）的顶部，标题下方有一个**"选择模型"**下拉框

#### 使用方法
1. 打开 http://localhost:5173/ai
2. 在页面顶部找到"选择模型"下拉框
3. 选择你想要使用的模型：
   - **DeepSeek**（默认）
   - **文心一言**
   - **星火**
   - **ChatGLM**
   - **Moonshot**
4. 直接提问，系统会使用你选择的模型回答

#### 特点
- ✅ **实时切换**：无需重启后端服务
- ✅ **立即生效**：选择后下次提问就会使用新模型
- ✅ **显示当前配置**：如果选择的模型与.env中的默认值不同，会显示提示
- ✅ **自动加载**：页面加载时自动获取支持的模型列表

---

### 配置文件切换（备用方式）

如果前端UI无法使用，可以通过修改配置文件切换：

#### 位置
`backend/.env` 文件

#### 步骤
1. 打开 `backend/.env` 文件
2. 修改 `AI_PROVIDER` 的值：
   ```ini
   AI_PROVIDER=deepseek    # DeepSeek（默认）
   AI_PROVIDER=wenxin       # 文心一言
   AI_PROVIDER=xinghuo      # 星火
   AI_PROVIDER=chatglm      # ChatGLM
   AI_PROVIDER=moonshot     # Moonshot
   ```
3. **重启后端服务**（必须！）

---

## 🎯 两种方式对比

| 特性 | 前端UI切换 | 配置文件切换 |
|------|-----------|-------------|
| 便捷性 | ⭐⭐⭐⭐⭐ 非常方便 | ⭐⭐ 需要编辑文件 |
| 实时性 | ✅ 立即生效 | ❌ 需要重启服务 |
| 用户体验 | ✅ 直观友好 | ❌ 不够直观 |
| 推荐度 | ✅ **推荐** | 备用方案 |

---

## 📝 注意事项

### API密钥配置
无论使用哪种方式切换，都需要确保在 `.env` 文件中配置了对应模型的API密钥：

```ini
# DeepSeek
DEEPSEEK_API_KEY=your_key_here

# 文心一言
WENXIN_API_KEY=your_key_here

# 星火
XINGHUO_API_KEY=your_key_here

# ChatGLM
CHATGLM_API_KEY=your_key_here

# Moonshot
MOONSHOT_API_KEY=your_key_here
```

### 模型可用性
- 如果某个模型的API密钥未配置，选择该模型时会显示错误
- 前端会自动加载后端支持的模型列表
- 如果后端返回的模型列表为空，会使用默认列表

---

## 🧪 测试方法

1. **测试前端切换**：
   - 访问 `/ai` 页面
   - 选择不同的模型
   - 发送一个问题
   - 检查回答是否来自选择的模型

2. **测试配置切换**：
   - 修改 `.env` 中的 `AI_PROVIDER`
   - 重启后端
   - 访问 `/api/v1/ai/providers` 查看当前模型

---

## 🎉 总结

**推荐使用前端UI切换**，这是最方便的方式！

- 打开页面就能看到模型选择器
- 点击下拉框选择模型
- 立即使用，无需重启

---

**现在就去试试吧！** 🚀

