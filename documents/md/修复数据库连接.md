# 🔧 修复数据库连接

## 步骤 1：创建数据库

使用 SQL Server 命令行创建数据库：

```powershell
sqlcmd -S localhost -U sa -P 123456 -Q "CREATE DATABASE ZhixueBan"
```

或者运行 SQL 脚本：

```powershell
sqlcmd -S localhost -U sa -P 123456 -i 创建数据库.sql
```

## 步骤 2：检查 ODBC 驱动

查看可用的 ODBC 驱动：

```powershell
odbcinst -q -d
```

应该看到类似以下驱动：
- ODBC Driver 17 for SQL Server
- SQL Server Native Client 11.0
- SQL Server

## 步骤 3：修改连接字符串

我已经更新了 `backend/database.py`，使用：
- 添加端口号：`:1433`
- 使用标准驱动：`ODBC Driver 17 for SQL Server`

## 步骤 4：重启后端

```powershell
cd backend
.\启动.bat
```

## 验证

查看后端日志，应该看到：
```
✅ 数据库表创建成功
```

而不是：
```
❌ 数据库表创建失败
```

