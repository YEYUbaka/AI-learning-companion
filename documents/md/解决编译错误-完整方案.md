# ğŸ”§ è§£å†³ç¼–è¯‘é”™è¯¯ - å®Œæ•´æ–¹æ¡ˆ

## âŒ é”™è¯¯åŸå› 

```
error: Microsoft Visual C++ 14.0 or greater is required
```

**é—®é¢˜åˆ†æï¼š**
1. ä½ ä½¿ç”¨çš„æ˜¯ **Python 3.12 32ä½ç‰ˆæœ¬**
2. `greenlet` å’Œ `httptools` æ²¡æœ‰ 32ä½é¢„ç¼–è¯‘åŒ…
3. éœ€è¦ä»æºç ç¼–è¯‘ï¼Œä½†ç¼ºå°‘ C++ ç¼–è¯‘å™¨

## âœ… è§£å†³æ–¹æ¡ˆï¼ˆæŒ‰æ¨èé¡ºåºï¼‰

### æ–¹æ¡ˆä¸€ï¼šå®‰è£… 64ä½ Python 3.12ï¼ˆæœ€æ¨èï¼‰â­

**ä¸ºä»€ä¹ˆæ¨èï¼š**
- 64ä½æœ‰æ›´å¤šé¢„ç¼–è¯‘åŒ…ï¼Œä¸éœ€è¦ç¼–è¯‘
- æ€§èƒ½æ›´å¥½
- å…¼å®¹æ€§æ›´å¥½

**æ­¥éª¤ï¼š**

1. **ä¸‹è½½ 64ä½ Python 3.12**
   - è®¿é—®ï¼šhttps://www.python.org/downloads/
   - ä¸‹è½½ Windows installer (64-bit)
   - ç‰ˆæœ¬ï¼šPython 3.12.x

2. **å®‰è£… Python 3.12 64ä½**
   - è¿è¡Œå®‰è£…ç¨‹åº
   - âœ… å‹¾é€‰ "Add Python to PATH"
   - âœ… é€‰æ‹© "Install for all users"ï¼ˆå¯é€‰ï¼‰

3. **é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
   ```powershell
   cd C:\Web\Zhixueban\backend
   Remove-Item -Recurse -Force venv
   py -3.12 -m venv venv
   .\venv\Scripts\activate.ps1
   pip install -r requirements.txt
   ```

### æ–¹æ¡ˆäºŒï¼šå®‰è£… Microsoft C++ Build Tools

å¦‚æœå¿…é¡»ä½¿ç”¨ 32ä½ Pythonï¼š

1. **ä¸‹è½½å¹¶å®‰è£…**
   - è®¿é—®ï¼šhttps://visualstudio.microsoft.com/visual-cpp-build-tools/
   - ä¸‹è½½ "Build Tools for Visual Studio"
   - å®‰è£…æ—¶é€‰æ‹© "C++ build tools"

2. **é‡æ–°å®‰è£…ä¾èµ–**
   ```powershell
   cd C:\Web\Zhixueban\backend
   .\venv\Scripts\activate.ps1
   pip install -r requirements.txt
   ```

**æ³¨æ„**ï¼šç¼–è¯‘å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼ˆ10-30åˆ†é’Ÿï¼‰

### æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨é¢„ç¼–è¯‘åŒ…ï¼ˆå¦‚æœå¯ç”¨ï¼‰

å°è¯•å¼ºåˆ¶ä½¿ç”¨é¢„ç¼–è¯‘åŒ…ï¼š

```powershell
cd C:\Web\Zhixueban\backend
.\venv\Scripts\activate.ps1

# å°è¯•å®‰è£…é¢„ç¼–è¯‘ç‰ˆæœ¬
pip install greenlet --only-binary :all:
pip install httptools --only-binary :all:

# å¦‚æœå¤±è´¥ï¼Œå®‰è£…å…¶ä»–ä¾èµ–
pip install -r requirements.txt --no-deps
pip install fastapi uvicorn sqlalchemy python-dotenv passlib bcrypt python-jose openai pydantic pydantic-settings email-validator
```

### æ–¹æ¡ˆå››ï¼šè·³è¿‡å¯é€‰ä¾èµ–

`greenlet` å’Œ `httptools` æ˜¯ `uvicorn[standard]` çš„å¯é€‰ä¾èµ–ï¼Œå¯ä»¥è·³è¿‡ï¼š

```powershell
cd C:\Web\Zhixueban\backend
.\venv\Scripts\activate.ps1

# å®‰è£…åŸºç¡€ uvicornï¼ˆä¸åŒ…å«æ ‡å‡†æ‰©å±•ï¼‰
pip install uvicorn

# å®‰è£…å…¶ä»–ä¾èµ–
pip install fastapi sqlalchemy python-dotenv passlib bcrypt python-jose openai pydantic pydantic-settings email-validator
```

**æ³¨æ„**ï¼šæ€§èƒ½å¯èƒ½ç•¥ä½ï¼Œä½†åŠŸèƒ½æ­£å¸¸

---

## ğŸš€ æ¨èæ“ä½œæµç¨‹

### å¦‚æœå¯ä»¥é€‰æ‹©ï¼šå®‰è£… 64ä½ Python 3.12

1. ä¸‹è½½ 64ä½ Python 3.12
2. å®‰è£…å¹¶æ·»åŠ åˆ° PATH
3. åˆ é™¤æ—§è™šæ‹Ÿç¯å¢ƒ
4. ä½¿ç”¨ 64ä½ Python é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
5. å®‰è£…ä¾èµ–ï¼ˆåº”è¯¥éƒ½èƒ½æ‰¾åˆ°é¢„ç¼–è¯‘åŒ…ï¼‰

### å¦‚æœå¿…é¡»ä½¿ç”¨ 32ä½ï¼šå®‰è£… C++ Build Tools

1. ä¸‹è½½ Microsoft C++ Build Tools
2. å®‰è£…ï¼ˆéœ€è¦å‡ GBç©ºé—´ï¼‰
3. é‡æ–°å®‰è£…ä¾èµ–ï¼ˆéœ€è¦ç¼–è¯‘ï¼Œè¾ƒæ…¢ï¼‰

---

## ğŸ“‹ å¿«é€Ÿæ£€æŸ¥è„šæœ¬

è¿è¡Œ `æ£€æŸ¥Pythonç‰ˆæœ¬.bat` æŸ¥çœ‹ï¼š
- æ˜¯å¦æœ‰ 64ä½ Python 3.12
- å½“å‰ä½¿ç”¨çš„ Python ç‰ˆæœ¬

---

## âœ… éªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼Œè¿è¡Œï¼š

```powershell
python -c "import uvicorn; print('âœ… uvicorn OK')"
python -c "import fastapi; print('âœ… FastAPI OK')"
python -m uvicorn main:app --host 0.0.0.0 --port 8000
```

---

## ğŸ’¡ ä¸ºä»€ä¹ˆæ¨è 64ä½ï¼Ÿ

1. **æ›´å¤šé¢„ç¼–è¯‘åŒ…**ï¼šå¤§éƒ¨åˆ†åŒ…éƒ½æœ‰ 64ä½é¢„ç¼–è¯‘ç‰ˆæœ¬
2. **æ— éœ€ç¼–è¯‘**ï¼šå®‰è£…é€Ÿåº¦å¿«
3. **æ€§èƒ½æ›´å¥½**ï¼š64ä½æ€§èƒ½é€šå¸¸æ›´å¥½
4. **å…¼å®¹æ€§**ï¼šç°ä»£è½¯ä»¶éƒ½ä¼˜å…ˆæ”¯æŒ 64ä½

---

## ğŸ”— ç›¸å…³é“¾æ¥

- Python ä¸‹è½½ï¼šhttps://www.python.org/downloads/
- C++ Build Toolsï¼šhttps://visualstudio.microsoft.com/visual-cpp-build-tools/
- é¡¹ç›®ä¾èµ–ï¼š`backend/requirements.txt`


