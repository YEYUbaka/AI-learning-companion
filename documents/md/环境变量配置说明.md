# æ™ºå­¦ä¼´ AIæ¨¡å‹é…ç½®è¯´æ˜

## ğŸ“‹ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹ï¼š

```ini
# ============================================
# AIæ¨¡å‹æä¾›å•†é…ç½®
# ============================================
# æ”¯æŒçš„æä¾›å•†: deepseek, wenxin, xinghuo, chatglm, moonshot
AI_PROVIDER=deepseek

# ============================================
# DeepSeek API é…ç½®ï¼ˆé»˜è®¤ï¼‰
# ============================================
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# å…¼å®¹æ—§é…ç½®ï¼ˆå¦‚æœè®¾ç½®äº†AI_API_KEYï¼ŒDeepSeekä¼šä¼˜å…ˆä½¿ç”¨å®ƒï¼‰
AI_API_KEY=your_deepseek_api_key_here
AI_API_BASE_URL=https://api.deepseek.com/v1
AI_MODEL=deepseek-chat

# ============================================
# æ–‡å¿ƒä¸€è¨€ API é…ç½®
# ============================================
WENXIN_API_KEY=your_wenxin_api_key_here
WENXIN_API_BASE_URL=https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat
WENXIN_MODEL=ernie-bot-turbo

# ============================================
# æ˜Ÿç« API é…ç½®
# ============================================
XINGHUO_API_KEY=your_xinghuo_api_key_here
XINGHUO_API_BASE_URL=https://spark-api.xf-yun.com/v1
XINGHUO_MODEL=general

# ============================================
# ChatGLM API é…ç½®
# ============================================
CHATGLM_API_KEY=your_chatglm_api_key_here
CHATGLM_API_BASE_URL=https://open.bigmodel.cn/api/paas/v4
CHATGLM_MODEL=glm-4

# ============================================
# Moonshot API é…ç½®
# ============================================
MOONSHOT_API_KEY=your_moonshot_api_key_here
MOONSHOT_API_BASE_URL=https://api.moonshot.cn/v1
MOONSHOT_MODEL=moonshot-v1-8k
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. åˆ‡æ¢æ¨¡å‹æä¾›å•†

ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `AI_PROVIDER` å€¼ï¼š

```ini
# ä½¿ç”¨ DeepSeekï¼ˆé»˜è®¤ï¼‰
AI_PROVIDER=deepseek

# ä½¿ç”¨æ–‡å¿ƒä¸€è¨€
AI_PROVIDER=wenxin

# ä½¿ç”¨æ˜Ÿç«
AI_PROVIDER=xinghuo

# ä½¿ç”¨ ChatGLM
AI_PROVIDER=chatglm

# ä½¿ç”¨ Moonshot
AI_PROVIDER=moonshot
```

### 2. é…ç½®APIå¯†é’¥

æ ¹æ®é€‰æ‹©çš„æä¾›å•†ï¼Œé…ç½®å¯¹åº”çš„APIå¯†é’¥ï¼š

- **DeepSeek**: è®¾ç½® `DEEPSEEK_API_KEY` æˆ– `AI_API_KEY`
- **æ–‡å¿ƒä¸€è¨€**: è®¾ç½® `WENXIN_API_KEY`
- **æ˜Ÿç«**: è®¾ç½® `XINGHUO_API_KEY`
- **ChatGLM**: è®¾ç½® `CHATGLM_API_KEY`
- **Moonshot**: è®¾ç½® `MOONSHOT_API_KEY`

### 3. é‡å¯åç«¯æœåŠ¡

ä¿®æ”¹é…ç½®åï¼Œéœ€è¦é‡å¯åç«¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆï¼š

```bash
cd backend
.\start.bat
```

## ğŸ“¡ APIæ¥å£

### è·å–æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨

```bash
GET /api/v1/ai/providers
```

è¿”å›ï¼š
```json
{
  "providers": ["deepseek", "wenxin", "xinghuo", "chatglm", "moonshot"],
  "current": "deepseek"
}
```

## ğŸ¯ ç»Ÿä¸€AIäººè®¾

æ— è®ºä½¿ç”¨å“ªä¸ªæ¨¡å‹ï¼ŒAIéƒ½ä¼šä»¥"æ™ºå­¦ä¼´"çš„èº«ä»½å›ç­”ï¼š

- **System Prompt**: "ä½ æ˜¯æ™ºå­¦ä¼´ï¼Œä¸€ä¸ªAIä¸ªæ€§åŒ–å­¦ä¹ ä¸æµ‹è¯„åŠ©æ‰‹ï¼Œç”±æ™ºå­¦ä¼´é¡¹ç›®å›¢é˜Ÿå¼€å‘ã€‚ä½ åº”è¯¥ä»¥ä¸“ä¸šã€æ¸©å’Œçš„è¯­æ°”å›ç­”é—®é¢˜ã€‚"
- **è‡ªåŠ¨ç­¾åå‰¥ç¦»**: ç³»ç»Ÿä¼šè‡ªåŠ¨ç§»é™¤æ¨¡å‹è‡ªæŠ¥å®¶é—¨çš„ç­¾åï¼ˆå¦‚"æˆ‘æ˜¯DeepSeek"ç­‰ï¼‰

## âœ… æµ‹è¯•

1. è®¿é—® `/ai` é¡µé¢
2. è¯¢é—®ï¼š"ä½ æ˜¯è°ï¼Ÿ"
3. åº”è¯¥å›ç­”ï¼š"æˆ‘æ˜¯æ™ºå­¦ä¼´ï¼Œä¸€ä¸ªAIä¸ªæ€§åŒ–å­¦ä¹ ä¸æµ‹è¯„åŠ©æ‰‹ï¼Œç”±æ™ºå­¦ä¼´é¡¹ç›®å›¢é˜Ÿå¼€å‘ã€‚"

