# 🔄 重启后端修复注册问题

## ⚠️ 问题原因

后端还在使用**旧的 SQL Server 配置**，需要重启才能使用新的 **SQLite 配置**。

## ✅ 解决步骤

### 1. 停止当前后端

在后端运行的 PowerShell 窗口中，按 `Ctrl+C` 停止服务。

### 2. 重新启动后端

```powershell
cd "F:\Cursor projects\Web\backend"
.\启动.bat
```

### 3. 验证数据库创建

启动后查看日志，应该看到：
```
✅ 数据库表创建成功
```

同时会在 `backend` 目录下生成：`zhixueban.db` 文件。

### 4. 测试注册

访问：http://localhost:5173/register

填写信息后点击注册，应该看到 "注册成功"！

## 📋 完整的重新启动流程

### 终端 1（后端）
```powershell
# 停止服务（Ctrl+C）
# 然后重新启动
cd "F:\Cursor projects\Web\backend"
.\启动.bat
```

### 终端 2（前端，如果还没启动）
```powershell
# 刷新环境变量
$env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")

# 启动前端
cd "F:\Cursor projects\Web\frontend"
npm run dev
```

## 🎯 期待结果

### 后端日志
- ✅ `数据库表创建成功`
- ✅ `Uvicorn running on http://127.0.0.1:8000`
- ✅ `Application startup complete`

### 前端功能
- ✅ 注册功能正常
- ✅ 可以保存用户数据
- ✅ 显示"注册成功"

### 数据库文件
- ✅ `backend/zhixueban.db` 文件被创建
- ✅ 文件大小会随用户注册增加

## 🔍 如果还有问题

### 检查步骤

1. **查看后端终端**的具体错误信息
2. **打开浏览器控制台**（F12）查看请求错误
3. **确认后端地址**：http://127.0.0.1:8000/docs
4. **测试接口**：在 API 文档中直接测试注册接口

### 可能的问题

#### 问题：还是显示数据库错误
**解决**：确认 `backend/database.py` 第11行是：
```python
SQLALCHEMY_DATABASE_URL = "sqlite:///./zhixueban.db"
```

#### 问题：500 内部错误
**解决**：查看后端终端的具体错误信息，告诉我即可

#### 问题：前端无法连接
**解决**：确认后端已启动在 http://127.0.0.1:8000

---

**重要：必须在后端终端手动重启，我的修改才能生效！** 🔄

