# ğŸš€ æ™ºå­¦ä¼´é¡¹ç›® - æœåŠ¡å™¨éƒ¨ç½²å®Œæ•´æ­¥éª¤

## âš ï¸ é—®é¢˜è¯´æ˜

å¦‚æœå‡ºç° `Fatal error in launcher: Unable to create process using...` é”™è¯¯ï¼Œè¯´æ˜è™šæ‹Ÿç¯å¢ƒæ˜¯åœ¨æœ¬åœ°åˆ›å»ºçš„ï¼Œå¤åˆ¶åˆ°æœåŠ¡å™¨åè·¯å¾„ä¸åŒ¹é…ã€‚

**è§£å†³æ–¹æ¡ˆï¼šåœ¨æœåŠ¡å™¨ä¸Šé‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**

---

## ğŸ“‹ å®Œæ•´éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šåˆ é™¤æ—§çš„è™šæ‹Ÿç¯å¢ƒ

```powershell
# è¿›å…¥åç«¯ç›®å½•
cd C:\Web\Zhixueban\backend

# åˆ é™¤æ—§çš„è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœå­˜åœ¨ï¼‰
Remove-Item -Recurse -Force venv -ErrorAction SilentlyContinue
```

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒ

```powershell
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•
cd C:\Web\Zhixueban\backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆä½¿ç”¨æœåŠ¡å™¨ä¸Šçš„ Pythonï¼‰
python -m venv venv
```

### ç¬¬ä¸‰æ­¥ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```powershell
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\venv\Scripts\activate.ps1
```

å¦‚æœæç¤ºæ‰§è¡Œç­–ç•¥é”™è¯¯ï¼Œè¿è¡Œï¼š
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### ç¬¬å››æ­¥ï¼šå‡çº§ pip

```powershell
python -m pip install --upgrade pip
```

### ç¬¬äº”æ­¥ï¼šå®‰è£…ä¾èµ–

```powershell
pip install -r requirements.txt
```

### ç¬¬å…­æ­¥ï¼šåˆ›å»º .env æ–‡ä»¶

åœ¨ `C:\Web\Zhixueban\backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
AI_API_KEY=ä½ çš„APIå¯†é’¥
AI_API_BASE_URL=https://api.openai.com/v1
AI_MODEL=gpt-4o-mini
```

### ç¬¬ä¸ƒæ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡

```powershell
# æ–¹å¼1ï¼šç›´æ¥ä½¿ç”¨ Python æ¨¡å—ï¼ˆæ¨èï¼‰
python -m uvicorn main:app --host 0.0.0.0 --port 8000 --workers 2

# æ–¹å¼2ï¼šä½¿ç”¨ uvicorn å‘½ä»¤ï¼ˆå¦‚æœä¸Šé¢ä¸è¡Œï¼‰
.\venv\Scripts\python.exe -m uvicorn main:app --host 0.0.0.0 --port 8000 --workers 2
```

### ç¬¬å…«æ­¥ï¼šé…ç½®é˜²ç«å¢™

```powershell
# å…è®¸ 8000 ç«¯å£å…¥ç«™
New-NetFirewallRule -DisplayName "Zhixueban-Backend-8000" -Direction Inbound -Protocol TCP -LocalPort 8000 -Action Allow
```

### ç¬¬ä¹æ­¥ï¼šæµ‹è¯•åç«¯

```powershell
# æœ¬æœºæµ‹è¯•
curl http://127.0.0.1:8000/health

# æˆ–æµè§ˆå™¨è®¿é—®
# http://ä½ çš„æœåŠ¡å™¨IP:8000/docs
```

---

## ğŸ”§ å¦‚æœè¿˜æ˜¯æŠ¥é”™

### æ–¹æ¡ˆAï¼šä½¿ç”¨ Python æ¨¡å—ç›´æ¥è¿è¡Œ

```powershell
cd C:\Web\Zhixueban\backend
.\venv\Scripts\activate.ps1
python -m uvicorn main:app --host 0.0.0.0 --port 8000
```

### æ–¹æ¡ˆBï¼šç›´æ¥è¿è¡Œ Python æ–‡ä»¶

```powershell
cd C:\Web\Zhixueban\backend
.\venv\Scripts\activate.ps1
python main.py
```

æ³¨æ„ï¼šéœ€è¦ä¿®æ”¹ `main.py` çš„æœ€åå‡ è¡Œï¼Œç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„å¯åŠ¨æ–¹å¼ã€‚

### æ–¹æ¡ˆCï¼šé‡æ–°å®‰è£… uvicorn

```powershell
.\venv\Scripts\activate.ps1
pip uninstall uvicorn -y
pip install uvicorn[standard]
```

---

## ğŸ“ ä¸€é”®éƒ¨ç½²è„šæœ¬

åˆ›å»º `éƒ¨ç½²åç«¯.bat` æ–‡ä»¶ï¼š

```batch
@echo off
chcp 65001 >nul
cd /d %~dp0

echo ================================
echo   æ™ºå­¦ä¼´åç«¯ - æœåŠ¡å™¨éƒ¨ç½²
echo ================================
echo.

echo [1/6] åˆ é™¤æ—§è™šæ‹Ÿç¯å¢ƒ...
if exist venv rmdir /s /q venv

echo [2/6] åˆ›å»ºæ–°è™šæ‹Ÿç¯å¢ƒ...
python -m venv venv

echo [3/6] æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ...
call venv\Scripts\activate.bat

echo [4/6] å‡çº§ pip...
python -m pip install --upgrade pip

echo [5/6] å®‰è£…ä¾èµ–...
pip install -r requirements.txt

echo [6/6] å¯åŠ¨æœåŠ¡...
echo.
echo æœåŠ¡å°†å¯åŠ¨åœ¨: http://0.0.0.0:8000
echo APIæ–‡æ¡£: http://ä½ çš„IP:8000/docs
echo.
echo æŒ‰ Ctrl+C åœæ­¢æœåŠ¡
echo.

python -m uvicorn main:app --host 0.0.0.0 --port 8000 --workers 2

pause
```

---

## âœ… éªŒè¯éƒ¨ç½²æˆåŠŸ

1. **æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ**
   ```powershell
   netstat -ano | findstr :8000
   ```

2. **è®¿é—® API æ–‡æ¡£**
   æµè§ˆå™¨æ‰“å¼€ï¼š`http://ä½ çš„æœåŠ¡å™¨IP:8000/docs`

3. **æµ‹è¯•å¥åº·æ£€æŸ¥**
   ```powershell
   Invoke-WebRequest -Uri http://127.0.0.1:8000/health
   ```

---

## ğŸ¯ å¸¸è§é—®é¢˜

### Q1: æç¤º "æ— æ³•åŠ è½½æ–‡ä»¶ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬"
**è§£å†³ï¼š**
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Q2: ç«¯å£è¢«å ç”¨
**è§£å†³ï¼š**
```powershell
# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8000

# æˆ–æ›´æ¢ç«¯å£
python -m uvicorn main:app --host 0.0.0.0 --port 8080
```

### Q3: ä¾èµ–å®‰è£…å¤±è´¥
**è§£å†³ï¼š**
```powershell
# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³ï¼Œè¯·æ£€æŸ¥ï¼š
1. Python ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®ï¼ˆéœ€è¦ 3.10+ï¼‰
2. è™šæ‹Ÿç¯å¢ƒæ˜¯å¦åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºï¼ˆä¸æ˜¯ä»æœ¬åœ°å¤åˆ¶ï¼‰
3. æ‰€æœ‰è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆC:\Web\Zhixueban\backendï¼‰

